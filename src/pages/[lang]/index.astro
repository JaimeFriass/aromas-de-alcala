---
import { getEntry } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/Header.astro";
import Hero from "../../components/Hero.astro";
import Amenities from "../../components/Amenities.astro";
import Gallery from "../../components/Gallery.astro";
import Testimonials from "../../components/Testimonials.astro";
import Footer from "../../components/Footer.astro";

export async function getStaticPaths() {
    return [{ params: { lang: "es" } }, { params: { lang: "en" } }];
}

const { lang } = Astro.params;
const entry = await getEntry("landing", `${lang}/home`);

if (!entry) {
    throw new Error(`Could not find content for landing/${lang}/home`);
}

const { data } = entry;
---

<Layout title={data.hero.title + " - " + data.hero.subtitle}>
    <Header />

    <main>
        <Hero
            title={data.hero.title}
            subtitle={data.hero.subtitle}
            cta={data.hero.cta}
        />

        <!-- Intro Section -->
        <section class="py-24 bg-white">
            <div class="max-w-4xl mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold text-stone-900 mb-6 font-sans">
                    {data.intro.title}
                </h2>
                <p class="text-xl text-stone-600 leading-relaxed italic mb-8">
                    {data.intro.quote}
                </p>
                <div class="w-16 h-1 bg-accent mx-auto"></div>
                <div class="mt-8">
                    <p class="text-stone-600 max-w-2xl mx-auto">
                        {data.intro.description}
                    </p>
                </div>
            </div>
        </section>

        <!-- Image / Text Section -->
        <section class="py-24 bg-stone-50">
            <div
                class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-16 items-center"
            >
                <div class="grid grid-cols-2 gap-4">
                    <div
                        class="translation-y-8 relative rounded-2xl overflow-hidden shadow-lg h-64 md:h-80 w-full transform md:translate-y-8"
                    >
                        <img
                            src="/images/interior-1.jpg"
                            alt="Interior 1"
                            class="w-full h-full object-cover hover:scale-105 transition-transform duration-700"
                        />
                    </div>
                    <div
                        class="relative rounded-2xl overflow-hidden shadow-lg h-64 md:h-80 w-full transform md:-translate-y-8"
                    >
                        <img
                            src="/images/interior-2.jpg"
                            alt="Interior 2"
                            class="w-full h-full object-cover hover:scale-105 transition-transform duration-700"
                        />
                    </div>
                </div>
                <div>
                    <span
                        class="text-accent uppercase tracking-widest font-bold text-sm mb-2 block"
                        >{data.features.label}</span
                    >
                    <h3
                        class="text-4xl font-bold text-stone-900 mb-6 font-sans"
                    >
                        {data.features.title}
                    </h3>
                    <p
                        class="text-stone-600 mb-4 leading-relaxed text-lg font-light"
                    >
                        {data.features.description_1}
                    </p>
                    <p
                        class="text-stone-600 mb-8 leading-relaxed text-lg font-light"
                    >
                        {data.features.description_2}
                    </p>
                    <a
                        href={`/${lang === "es" ? "que-hacer-en-alcala" : "en/what-to-do"}`}
                        class="text-accent font-bold hover:text-accent-hover transition-colors inline-flex items-center tracking-wide"
                    >
                        {data.features.cta}
                        <span class="ml-2 text-xl">&rarr;</span>
                    </a>
                </div>
            </div>
        </section>

        <Amenities data={data.amenities} />

        <Gallery data={data.gallery} />

        <!-- Rates Section -->
        <section class="py-24 bg-white">
            <div class="max-w-5xl mx-auto px-6">
                <div class="text-center mb-16">
                    <span
                        class="text-accent uppercase tracking-widest font-bold text-sm mb-2 block"
                        >{data.rates.label}</span
                    >
                    <h2 class="text-4xl font-bold text-stone-900 font-sans">
                        {data.rates.title}
                    </h2>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
                    <!-- High Season -->
                    <div
                        class="bg-stone-50 p-8 rounded-3xl border border-stone-100 hover:shadow-lg transition-all duration-300 relative overflow-hidden group"
                    >
                        <h3 class="text-2xl font-bold text-stone-900 mb-4">
                            {data.rates.high_season.title}
                        </h3>
                        <ul class="mb-8 space-y-2 text-stone-600 text-sm">
                            {
                                data.rates.high_season.items.map((item) => (
                                    <li class="flex items-start">
                                        <span class="text-accent mr-2">•</span>
                                        {item}
                                    </li>
                                ))
                            }
                        </ul>
                        <div class="flex items-baseline mb-2">
                            <span class="text-4xl font-bold text-stone-900"
                                >{data.rates.high_season.price}</span
                            >
                            <span class="text-stone-500 ml-2"
                                >{data.rates.high_season.price_suffix}</span
                            >
                        </div>
                        <p class="text-xs text-stone-400 font-medium">
                            {data.rates.high_season.note}
                        </p>
                    </div>

                    <!-- Low Season -->
                    <div
                        class="bg-white p-8 rounded-3xl border border-stone-200 hover:shadow-lg transition-all duration-300"
                    >
                        <h3 class="text-2xl font-bold text-stone-900 mb-4">
                            {data.rates.low_season.title}
                        </h3>
                        <ul class="mb-8 space-y-2 text-stone-600 text-sm">
                            {
                                data.rates.low_season.items.map((item) => (
                                    <li class="flex items-start">
                                        <span class="text-accent mr-2">•</span>
                                        {item}
                                    </li>
                                ))
                            }
                        </ul>
                        <div class="flex items-baseline mb-2">
                            <span class="text-4xl font-bold text-stone-900"
                                >{data.rates.low_season.price}</span
                            >
                            <span class="text-stone-500 ml-2"
                                >{data.rates.low_season.price_suffix}</span
                            >
                        </div>
                        <p class="text-xs text-stone-400 font-medium">
                            {data.rates.low_season.note}
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <Testimonials />

        <!-- CTA Section -->
        <section class="py-24 bg-accent text-center">
            <div class="max-w-3xl mx-auto px-6">
                <h2 class="text-4xl font-bold mb-6 text-white">
                    {data.cta_section.title}
                </h2>
                <p class="text-white/90 text-lg mb-10 font-light">
                    {data.cta_section.subtitle}
                </p>
                <a
                    href="/contacto"
                    class="inline-block bg-white text-stone-900 px-10 py-5 uppercase tracking-widest font-black hover:bg-stone-100 transition-all duration-300 rounded-xl shadow-lg hover:shadow-xl"
                >
                    {data.cta_section.button}
                </a>
            </div>
        </section>

        <!-- Policy Disclaimer -->
        <section class="py-12 bg-stone-100 border-t border-stone-200">
            <div class="max-w-5xl mx-auto px-6 text-center">
                <h4
                    class="text-sm font-bold text-stone-500 mb-2 uppercase tracking-wide"
                >
                    {data.policy.title}
                </h4>
                <p
                    class="text-stone-400 text-xs leading-relaxed max-w-3xl mx-auto"
                >
                    {data.policy.text}
                </p>
            </div>
        </section>
    </main>

    <Footer />
</Layout>
